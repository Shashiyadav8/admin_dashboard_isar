{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Bar,Pie}from'react-chartjs-2';import{Chart as ChartJS,BarElement,CategoryScale,LinearScale,ArcElement,Tooltip,Legend}from'chart.js';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(BarElement,CategoryScale,LinearScale,ArcElement,Tooltip,Legend);const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const Dashboard=()=>{const[inventory,setInventory]=useState([]);const[billsCount,setBillsCount]=useState(0);const totalCost=inventory.reduce((acc,item)=>acc+item.quantity*item.costPerUnit,0);const totalQuantity=inventory.reduce((acc,item)=>acc+item.quantity,0);useEffect(()=>{const fetchData=async()=>{try{const inventoryRes=await axios.get(`${API_BASE_URL}/inventory`);setInventory(inventoryRes.data);const billsRes=await axios.get(`${API_BASE_URL}/bills`);setBillsCount(billsRes.data.length);}catch(err){console.error(err);}};fetchData();},[]);const barData={labels:inventory.map(item=>item.name),datasets:[{label:'Quantity',data:inventory.map(item=>item.quantity),backgroundColor:'rgba(54, 162, 235, 0.6)'}]};const pieData={labels:inventory.map(item=>item.name),datasets:[{label:'Cost Distribution',data:inventory.map(item=>item.quantity*item.costPerUnit),backgroundColor:['#FF6384','#36A2EB','#FFCE56','#4BC0C0','#9966FF','#FF9F40']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Inventory Cost\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9 \",totalCost.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Quantity\"}),/*#__PURE__*/_jsx(\"p\",{children:totalQuantity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Bills\"}),/*#__PURE__*/_jsx(\"p\",{children:billsCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Quantity per Product\"}),/*#__PURE__*/_jsx(Bar,{data:barData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cost Distribution\"}),/*#__PURE__*/_jsx(Pie,{data:pieData})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","Bar","Pie","Chart","ChartJS","BarElement","CategoryScale","LinearScale","ArcElement","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","Dashboard","inventory","setInventory","billsCount","setBillsCount","totalCost","reduce","acc","item","quantity","costPerUnit","totalQuantity","fetchData","inventoryRes","get","data","billsRes","length","err","console","error","barData","labels","map","name","datasets","label","backgroundColor","pieData","className","children","toFixed"],"sources":["/home/isar/accounts/my-frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  BarElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport './Dashboard.css';\r\n\r\nChartJS.register(BarElement, CategoryScale, LinearScale, ArcElement, Tooltip, Legend);\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\nconst Dashboard = () => {\r\n  const [inventory, setInventory] = useState([]);\r\n  const [billsCount, setBillsCount] = useState(0);\r\n\r\n  const totalCost = inventory.reduce(\r\n    (acc, item) => acc + item.quantity * item.costPerUnit,\r\n    0\r\n  );\r\n  const totalQuantity = inventory.reduce((acc, item) => acc + item.quantity, 0);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const inventoryRes = await axios.get(`${API_BASE_URL}/inventory`);\r\n        setInventory(inventoryRes.data);\r\n\r\n        const billsRes = await axios.get(`${API_BASE_URL}/bills`);\r\n        setBillsCount(billsRes.data.length);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const barData = {\r\n    labels: inventory.map((item) => item.name),\r\n    datasets: [\r\n      {\r\n        label: 'Quantity',\r\n        data: inventory.map((item) => item.quantity),\r\n        backgroundColor: 'rgba(54, 162, 235, 0.6)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  const pieData = {\r\n    labels: inventory.map((item) => item.name),\r\n    datasets: [\r\n      {\r\n        label: 'Cost Distribution',\r\n        data: inventory.map((item) => item.quantity * item.costPerUnit),\r\n        backgroundColor: [\r\n          '#FF6384',\r\n          '#36A2EB',\r\n          '#FFCE56',\r\n          '#4BC0C0',\r\n          '#9966FF',\r\n          '#FF9F40',\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1>Dashboard</h1>\r\n\r\n      <div className=\"stats\">\r\n        <div className=\"stat\">\r\n          <h2>Total Inventory Cost</h2>\r\n          <p>â‚¹ {totalCost.toFixed(2)}</p>\r\n        </div>\r\n        <div className=\"stat\">\r\n          <h2>Total Quantity</h2>\r\n          <p>{totalQuantity}</p>\r\n        </div>\r\n        <div className=\"stat\">\r\n          <h2>Total Bills</h2>\r\n          <p>{billsCount}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"charts\">\r\n        <div className=\"chart\">\r\n          <h3>Quantity per Product</h3>\r\n          <Bar data={barData} />\r\n        </div>\r\n\r\n        <div className=\"chart\">\r\n          <h3>Cost Distribution</h3>\r\n          <Pie data={pieData} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}